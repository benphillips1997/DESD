{% extends "patients/dashboard_layout.html" %}
{% block title %}
Appointment
{% endblock %}
{% block content %}
<div class="dashboard-summary">
    {% if current_appointment %}
    <h2>Current appointment</h2>
        <h4>{{ current_appointment.patient.name }}</h4>
        <br>
    <div class="dashboard-summary-block">
        <form method="POST">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit"></button>
        </form>
    </div>
    {% else %}
    <h2>No current appointments</h2>
    {% endif %}
    <button onclick="fillHiddenFields()"></button>
</div>
{% block javascript %}
<script>
    function fillHiddenFields()
    {
        alert("open");
        var patientID_field = document.getElementsByName("patientID");
        var appointmentID_field = document.getElementsByName("appointmentID");
        alert(patientID_field.value);

        patientID_field.value = "{{ currentappointment.patient.userID }}";
        appointmentID_field.value = "{{ currentappointment.appointmentID }}";
        alert(patientID_field.value);
    }
</script>
{% endblock javascript %}
{% endblock %}